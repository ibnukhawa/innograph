<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="layout_header" inherit_id="website.layout">
        <xpath expr="//div[@class='header-top']/div/div[@class='ht-right']" position="replace">
            <div class="ht-right"/>
        </xpath>
        <xpath expr="//div[@class='container']/div[@class='navbar-header']" position="replace">
            <div class="navbar-header fixed-header">
                <div class="navbar-header-top">
                    <div class="container">
                        <nav class="navbar navbar-expand-lg navbar-light">
                        <!--<div class="row">-->
                            <div class="col-sm-3">
                                <div class="container">
                                    <div class="row">
                                        <a href="/">
                                            <img class="logos" src="/website_header/static/src/img/logo.png" title="Innograph" alt="Innograph"/>
                                            <p class="text_logo">Digital Signage &amp; Display Promotion Solution</p>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="container">
                                    <div class="row">
                                        <form action='/shop' method="get" role="search" class="navbar-form">
                                            <div class="col-sm-12">
                                                <div class="">
                                                    <button class="btn btn-default fa fa-search btn_search"/>
                                                    <input class="form-control" type="text" name="search" placeholder="Search" t-att-value="search"
                                                           style="width:95%;position:absolute;"/>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <ul class="navbar-nav">
                                                <li class="dropdown" style="font-size:20px;padding-top:10px;">
                                                    <t t-call="website_header.product_carts"/>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="account-login col-sm-8">
                                            <div class="container">
                                                <div class="row navbar-nav">
                                                    <t t-if="not(website.user_id != user_id)">
                                                        <div class="col-sm-6">
                                                            <ul class="navbar-nav">
                                                                <li>
                                                                    <a href="/web/login" class="btn btn-default">Login</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <ul class="navbar-nav">
                                                                <li>
                                                                    <a href="/web/signup" class="btn btn-default">Daftar</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </t>
                                                    <t t-if="website.user_id != user_id">
                                                        <div>
                                                            <ul class="navbar-nav">
                                                                <li>
                                                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"
                                                                        style="line-height:0px;padding:0px;">
                                                                        <t t-if="user_id.image">
                                                                            <span t-field="user_id.image_small" t-options='{"widget": "image", "class": "images"}' style="position:fixed;"/>
                                                                        </t>
                                                                        <t t-if="not user_id.image">
                                                                            <span align="left"/>
                                                                        </t>
                                                                        <label style="padding-top:15px;margin-bottom:0px;padding-left:45px;">
                                                                            <t t-esc="user_id.name" style="padding-top: 15px;"/>
                                                                        </label>
                                                                        <label style="font-weight: normal;margin-bottom:0px;padding-left:45px;">
                                                                            Customer
                                                                        </label>
                                                                        <ul class="dropdown-menu dropdown-account" role="menu">
                                                                            <li>
                                                                                <span class="item">
                                                                                    <span class="item-left">
                                                                                        <i class="fa fa-user" style="position:absolute;"></i>
                                                                                        <span class="item-info">
                                                                                            <a href="/my/home" t-if="website.user_id != user_id" style="padding:0px;padding-left:15px;">
                                                                                                My Account
                                                                                            </a>
                                                                                        </span>
                                                                                    </span>
                                                                                    <span class="item-right">
                                                                                    </span>
                                                                                </span>
                                                                            </li>
                                                                            <li>
                                                                                <span class="item">
                                                                                    <span class="item-left">
                                                                                        <i class="fa fa-heart-o"></i>
                                                                                        <span class="item-info">
                                                                                            <a href="/shop/product/whishlists">
                                                                                                Wishlist
                                                                                            </a>
                                                                                        </span>
                                                                                    </span>
                                                                                    <span class="item-right">
                                                                                    </span>
                                                                                </span>
                                                                            </li>
                                                                            <li>
                                                                                <span class="item">
                                                                                    <span class="item-left">
                                                                                        <i class="fa fa-sign-out"></i>
                                                                                        <span class="item-info">
                                                                                            <a t-attf-href="/web/session/logout?redirect=/" t-if="website.user_id != user_id">
                                                                                                Logout
                                                                                            </a>
                                                                                        </span>
                                                                                    </span>
                                                                                    <span class="item-right">
                                                                                    </span>
                                                                                </span>
                                                                            </li>
                                                                        </ul>
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </t>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <!--</div>-->
                        </nav>
                    </div>
                </div>
                <div class="navbar-header-bottom">
                    <nav class="navbar navbar-expand-lg">
                        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                            <div class="navbar-nav">
                                <ul class="navbar-nav">
                                    <t t-foreach="website.menu_id.child_id" t-as="menu_id">
                                        <li class="nav-item">
                                            <a class="nav-link" t-attf-href="#{menu_id.url}">
                                                <t t-esc="menu_id.name"/>
                                            </a>
                                        </li>
                                    </t>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </xpath>
    </template>
    <!-- Product Cart -->
    <template id="product_carts">
        <div class="cart-view-drop">
            <t t-set="website_sale_order" t-value="website.sale_get_order()"/>
            <i class="fa fa-shopping-cart"></i>
            <span class="cart_quantity badges" t-esc="website_sale_order and website_sale_order.cart_quantity or '0'"
            style="background-color: #2196f3;"/>
            <t t-if="not website_sale_order or not website_sale_order.website_order_line" class="">
                <ul class="dropdown-menu dropdown-carts-view" role="menu">
                    <li class="empty">
                        <span>Your cart is empty!</span>
                    </li>
                </ul>
            </t>
            <t t-if="website_sale_order and website_sale_order.website_order_line">
                <ul class="dropdown-menu dropdown-carts-view" role="menu">
                    <t t-foreach="website_sale_order.website_order_line" t-as="line">
                        <li t-if="line.product_id and line.product_id.product_tmpl_id">
                            <div class="items">
                                <span class="items-left">
                                    <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                                        <span t-field="line.product_id.image_small"
                                              t-options='{"widget": "image", "class": "img-responsive"}'/>
                                    </a>
                                </span>
                                <div class="items-info">
                                    <label class="names">
                                        <a t-attf-href="/shop/product/#{ slug(line.product_id.product_tmpl_id) }">
                                            <strong style="font-weight: 400;" t-esc="line.product_id.with_context(display_default_code=False).display_name"/>
                                        </a>
                                    </label>
                                    <label class="quantitys">
                                        <t t-esc="line.product_uom_qty"/>
                                        x
                                    </label>
                                    <label class="totals">
                                        <span t-options="{'widget': 'monetary','from_currency': website_sale_order.pricelist_id.currency_id,'display_currency': website.currency_id}"
                                              t-field="line.price_unit" style="white-space: nowrap;"/>
                                    </label>
                                </div>
                            </div>
                        </li>
                    </t>
                    <div class="cart-summary">
                        <p class="cart-total">
                            <span class="label" style="color:#000;">Total:</span>
                            <span class="price" t-field="website_sale_order.amount_total" style="white-space: nowrap;"
                                  t-options='{"widget": "monetary", "display_currency": website_sale_order.pricelist_id.currency_id}'/>
                        </p>
                    </div>
                    <div class="cart-actions">
                        <a href="/shop/cart">
                            <div class="view-carts">
                                Checkout
                            </div>
                        </a>
                    </div>
                </ul>
            </t>
        </div>
    </template>
</odoo>
